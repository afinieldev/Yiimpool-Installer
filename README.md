<p>
    <h1 align="center"> Afiniel-Tech YiimPool Installer v3.0 - Dev Branch! </h1><b>Afiniel.Tech YiimPool Installer </b>Is an install script that will do all the magic for you to get your yiimp server up in no time.  It is a fork of <a href="https://github.com/cryptopool-builders/Multi-Pool-Installer "> Multi-Pool-Installer</a> by CryptoPool Builders. Since it looks like they have stop maintaining it, So we fork it and YiimPool got born to keep this script up to date and alive!
</p>
<br/>
</>
<b> The installer requires the following. </b>
</>
</p>
<p>

* Fresh Ubuntu 18.04 or Ubuntu 16.04
* Minimum RAM 4GB
* Recommended RAM 8GB
* for best performance, use a dedicated server

<br/>
<p>
    <h1 aling="left"> Installation. </h1>

<b>To start the installation, copy the line below and paste it in your terminal. use the same line to update when new release is out! </b>

</p>
<pa>

> <code>curl https://raw.githubusercontent.com/afinieldev/Yiimpool-Installer/master/bootstrap.sh | bash</code>

* Information about the user
  
  >* If you are running as root the installer will prompt you to create a new account.
<br/>
   >* If you have a user account created on your server that account must already be part of the sudo group.
<br/>
<p>
<br/>
    <h2 aling="left"> IMPORTANT! </h2>

    > After creating the new user account or updating your existing account, you MUST reboot the machine in order for the accounts permissions to be updated properly.

 when you have rebooted, you log back into your new user account. and run the following command.

> yiimpool
</p>
<br/>
<p>
    <h1 aling="left"> YiiMP Install questions </h1>

The Yiimp Single Server Install is recommend for private pools. It is recommended to have at least 4GB ram in order to function properly.
Setup is automated after the following questions are answered:

| Question                                      |                Default                 | Help                                                                    |
| :-------------------------------------------- | :------------------------------------: | :---------------------------------------------------------------------- |
| Are you using a domain name                   |                   no                   | If you plan to use something like example.com, make sure DNS is updated |
| Are you using a sub-domain as the main domain |                   no                   | If you plan to use something like pool.example.com                      |
| Domain Name                                   |               localhost                | Change to your domain either example.com or pool.example.com            |
| Stratum Domain                                |          stratum.domain.name           | This should be something other then your domain name                    |
| Install SSL                                   |                  yes                   | Installs a 90 day cert from LetsEncrypt                                 |
| Support Email                                 |             root@localhost             | Used to send you system alerts                                          |
| Your Public IP                                | pulls ip last used to acess web server | To verify go to http://www.whatsmyip.org                                |
| DB Root Password                              |  autogenerated 36 character password   | Default mysql root password                                             |
| DB Panel User Password                        |  autogenerated 36 character password   | Default mysql frontend password                                         |
| DB Stratum Password                           |  autogenerated 36 character password   | Default mysql stratum password                                          |
| Admin Portal Access Location                  |              AdminPortal               | to access example.com/site/AdminPortal                                  |

* Some information.
  
  >* Installation will take some time  to fully complete. You will get a message on the screen letting you know it has finished.
<br/>
<p>
<br/>
    <h2 aling="center"> A server reboot is REQUIRED after the installer is completed to finalize the installation process! </h2>

`On first reboot it may take some minutes before the cron screens auto-start. After waiting some minutes type:`
<br/>
<br/>
> <code>motd</code>
<br/>
<p>
    <h4 aling="center"> To help make your server more secure we have changed the install locations and directory structure of YiiMP as follows:</h3>
<br/>
</p>
<p>

| Directory                                 |                            Files                            |
| :---------------------------------------- | :---------------------------------------------------------: |
| /home/yiimp-data/yiimp                    |             General install location for YiiMP              |
| /home/yiimp-data/yiimp/starts             | screens and stratum sh files - you do not need to run these |
| /home/yiimp-data/yiimp/site               |                              -                              |
| /home/yiimp-data/yiimp/site/web           |              New location for YiiMP web files               |
| /home/yiimp-data/yiimp/site/backup        |                backup location for mysql DB                 |
| /home/yiimp-data/yiimp/site/configuration |            New location of your serverconfig.php            |
| /home/yiimp-data/yiimp/site/crons         |      New location of the `main:blocks:loop2` sh files       |
| /home/yiimp-data/yiimp/site/log           |    New location for debug.log and your nginx server log     |
| /home/yiimp-data/yiimp/site/stratum       |             New location for your stratum files             |
| /home/yiimp-data/wallets                  |                  New location for wallets                   |
<br/>
> Permissions have been setup correctly allowing your main user write acess to the /home/yiimp-data directories! Changing file or directory permissions after install will cause your YiiMP to not function correctly, you have been warned!!
<br/>
<br/>
> By default even though all stratum algos start on server start, the ports have been blocked by the firewall. To open a port type: `sudo ufw allow <port>` to run this installer again just type: `yiimpool`
<br/>
<br/>
</p>
<br/>
<p>
    <h1 aling="center"> Your Yiimp server is now ready for duty! </h1>
    <br/>
    From there your YiiMP Single Server installation is fully completed. You can now go to example.com/site/AdminPortal to access your admin section and start adding your coins.
    <br/>
    <br/>
    <h2 aling="left"> Commands </h2>
    <br/>

    To view a screen type:
```
screen -r main|loop2|blocks|debug
```
To detach from a screen type:
```
ctrl+a+d
```
To start, stop or restart main|loop2|blocks|debug type:
```
screens start|stop|restart main|loop2|blocks|debug
```
We also suggest that you type:
```
yiimp
```
and get to know those commands as well!

<p>
    <h1 aling="center"> Thank you for using YiimPool Installer! </h1>

## ‚ù§Ô∏è Credits

The following GitHubs have been a source of inspiration and code:

* [mailinabox](https://github.com/mail-in-a-box/mailinabox)
* [realeas-it](https://github.com/webpro/release-it)

The following forks have been used in the making of the script:

* [YiiMP](https://github.com/tpruvot/yiimp)
* [Kudaraidee](https://github.com/Kudaraidee)
* [Cryptopool-builder](https://github.com/cryptopool-builders)
## üéì License

[MIT](http://webpro.mit-license.org/)

## üéÅ Support

Donations for continued support of this script are welcomed at:

* BTC:  bc1qpnxtg3dvtglrvfllfk3gslt6h5zffkf069nh8r
* Doge: DCj73fKJbHeDTJx7arz4z7bbknWkSDpD8h
* ETH:  0x50C7d0BF9714dBEcDc1aa6Ab0E72af8e6Ce3b0aB
* LTC:  ltc1qqw7cv4snx9ctmpcf25x26lphqluly4w6m073qw
</p>